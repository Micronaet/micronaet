<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <!-- INHERIT VIEWS -->
             <!-- Modify Contact view-->     
        <record model="ir.ui.view" id="view_partner_contact_form_inherit_extra_info_page2">
            <field name="name">Aggiunta campi contatto scheda Laser</field>
            <field name="model">res.partner.contact</field>
            <field name="inherit_id" ref="base_contact.view_partner_contact_form"/>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <data>
                   <field name="name" position="attributes">
                          <attribute name="string">Cognome - Nome</attribute> 
                   </field>
                   <field name="first_name" position="replace"> <!--Hide name-->
                   </field>

                    <xpath expr="/form/notebook/page[@string='General']/group/group/field[@name='website']" position="replace">
                        <!-- delete website -->
   	                </xpath>
                    <xpath expr="/form/notebook/page[@string='General']/group/group/field[@name='email']" position="before">
                        <field name="telephone" />
                        <field name="telefax" />
   	                </xpath>
                    <xpath expr="/form/notebook/page[@string='General']/field[@name='job_ids']" position="before">
                           <group>
                              <separator string="Residenza contatto" /> 
                              <field string="Indirizzo" name="trainee_residence" />
                              <field name="zip" on_change="on_change_zip_contact(zip)" />                    
                              <field string="LocalitÃ " name="trainee_location" on_change="on_change_city_contact(trainee_location)" />
                              <field name="province" />
                              <field name="region" />
                              <!--<field name="country_id" />-->
                           </group>
                    </xpath>
                    <xpath expr="/form/group" position="before">
                         <group colspan="4" col="4">
                            <field name="fiscal_id_code" on_change="on_change_fiscal_code_contact(fiscal_id_code)" />
                            <field name="office_id" select="1" />
                         </group>
                    </xpath>
                  
                    <notebook position="inside">
                        <page string="Laser">                        
                                <!--<separator string="Sezione comune:" colspan="4" />-->
                                <field string="ID dote" name="matricola" select="1" />              
                                <field name="gender" />
                  
                                <!--<separator string="Sezione Servizi alle imprese:" colspan="4" />-->
                                <!--<newline /><separator string="Professione / Studi" colspan="1" /><newline />-->
                                <field name="title_school_id" select="2" colspan="2" 
                                       groups="base_laser.group_laser_cfp,base_laser.group_laser_imprese,base_laser.group_laser_doti" />
                                <field name="title_profpos_id" select="2" colspan="2" groups="base_laser.group_laser_imprese" />
                                <field name="title_contract_id" select="2" colspan="2" groups="base_laser.group_laser_imprese" />
                                <field name="title_prioritycat_id" select="2" colspan="2" groups="base_laser.group_laser_imprese" />
                                <field name="title_profstatus_id" select="2" colspan="2" groups="base_laser.group_laser_imprese,base_laser.group_laser_doti" /> 
                                <field name="hourly" select="2" colspan="2" groups="base_laser.group_laser_imprese" />
                                <field name="disadvantage" select="1" groups="base_laser.group_laser_imprese,base_laser.group_laser_cfp" />
                                <field name="privacy" select="2" colspan="2" groups="base_laser.group_laser_imprese" />
                                <!--<newline /><separator string="Interruzione studi" colspan="1"/> <newline /> -->
                                <field name="study_broken" colspan="2" 
                                       groups="base_laser.group_laser_imprese,base_laser.group_laser_cfp" />
                                <field name="study_broken_year" colspan="2" 
                                       groups="base_laser.group_laser_imprese,base_laser.group_laser_cfp" />

                                <group colspan="4" groups="base_laser.group_laser_apprendistato">  
                                   <!--<separator string="Apprendistato:" colspan="4" />-->
                                   <!--<newline /><separator string="Formazione" colspan="1" /><newline />-->
                                   <field name="formation_id" select="2" colspan="2" />
                                   <field name="annuality" select="2" colspan="2" />
                                   <field name="title_pip_state_id" select="2" colspan="2" />
                                   <field name="date" select="2" colspan="2" />
                                   <field name="pip_state" select="2" colspan="2" />
                                </group>    
                                <!--<newline /><separator string="Informazioni apprendista" colspan="1" /><newline />-->
                                <field name="title_ccnl_id" select="2" colspan="2" groups="base_laser.group_laser_apprendistato" />
                                <field name="recruitment_date" select="2" colspan="2" groups="base_laser.group_laser_apprendistato" />
                                <field name="cost" select="2" colspan="2" groups="base_laser.group_laser_apprendistato" />
                                <field name="profile_id" select="2" colspan="2" groups="base_laser.group_laser_apprendistato" />
                                <field name="tutor" select="2" colspan="2" 
                                       groups="base_laser.group_laser_apprendistato,base_laser.group_laser_doti,base_laser.group_laser_cfp" />
                                <field name="tutor_fiscal_id_code" select="2" colspan="2" 
                                       groups="base_laser.group_laser_apprendistato,base_laser.group_laser_doti" />
                                <field name="course_tutor" select="2" colspan="2" groups="base_laser.group_laser_apprendistato" />
                                <field name="internal_ref" select="2" colspan="2" groups="base_laser.group_laser_apprendistato" />
                        </page> 
                   </notebook>                
               </data>      
            </field>
        </record>
        <record model="ir.ui.view" id="view_partner_contact_tree_inherit_laser_office">
            <field name="name">Contatti Laser</field>
            <field name="model">res.partner.contact</field>
            <field name="inherit_id" ref="base_contact.view_partner_contact_tree"/>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <field name="name" position="attributes">
                       <attribute name="string">Cognome - Nome</attribute> 
                </field>
                <field name="first_name" position="replace"> <!--Hide name-->
                </field>
                <field name="lang_id" position="replace">
                     <field name="trainee_residence" />
                </field>             
                <field name="function" position="after">
                     <field name="office_id" select="1" />
                     <field name="fiscal_id_code" />
                     <!--<filter string="C.F.P." name="cfp" icon="terp-personal" domain="[('is_customer_add','=','1')]" />
                     <filter string="Servizi" name="servizi"  icon="terp-personal" domain="[('is_supplier_add','=','1')]" />
                     <filter string="Doti" name="doti" icon="terp-personal" domain="[('is_customer_add','=','1')]" />
                     <separator orientation="vertical"/>-->
                </field>             
            </field>
        </record>

           <!-- INHERIT SEARCH VIEWS --> 
        <record model="ir.ui.view" id="view_partner_contact_search_laser">
                <field name="name">res.partner.contact.search.laser</field>
                <field name="model">res.partner.contact</field>
                <field name="inherit_id" ref="base_contact.view_partner_contact_search"/>
                <field name="type">search</field>
                <field name="arch" type="xml">
                       <field name="name" position="attributes">
                              <attribute name="string">Cognome - Nome</attribute> 
                       </field>
                       <field name="first_name" position="replace"> <!--Hide name-->
                       </field>
                       <field name="partner_id" position="after">
                              <field name="office_id" select="1" />  
                              <field name="gender" select="1" />
                              <field name="disadvantage" select="1" />
                              <field name="fiscal_id_code" />
                    </field>
                </field>
        </record>

           <!-- NEW VIEWS-->
                <!--Titoli di studio--> 
        <record model="ir.ui.view" id="view_partner_schoolsheet_form">
            <field name="name">Titoli di studio Form</field>
            <field name="model">res.partner.schoolsheet</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Titoli di studio">
                       <field name="name" colspan="4" select="1" />                       
                       <field name="note" colspan="4" select="2" />
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_partner_schoolsheet_tree">
            <field name="name">Titoli di studio Tree</field>
            <field name="model">res.partner.schoolsheet</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Titoli di studio">
                   <field name="name" select="1" />
                   <field name="note" select="2" />
                </tree>
            </field>
        </record>

                <!--Posizione professionale--> 
        <record model="ir.ui.view" id="view_partner_profposition_form">
            <field name="name">Posizione professionale Form</field>
            <field name="model">res.partner.profposition</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Posizione professionale">
                       <field name="name" select="1" colspan="4"/>                                              
                       <field name="note" select="2" colspan="4"/>
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_partner_profposition_tree">
            <field name="name">Posizione professionale Tree</field>
            <field name="model">res.partner.profposition</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Posizione professionale">
                   <field name="name" select="1" />
                   <field name="note" select="2" />
                </tree>
            </field>
        </record>
                <!--Descrizione contratto--> 
        <record model="ir.ui.view" id="view_partner_contract_form">
            <field name="name">Descrizione contratto Form</field>
            <field name="model">res.partner.contract</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Descrizione contratto">
                       <field name="name" select="1"  colspan="4"/>                       
                       <field name="note" select="2"  colspan="4"/>
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_partner_contract_tree">
            <field name="name">Descrizione contratto Tree</field>
            <field name="model">res.partner.contract</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Descrizione contratto">
                   <field name="name" select="1"  />
                   <field name="note" select="2"  />
                </tree>
            </field>
        </record>
                <!--Categorie prioritarie-->
        <record model="ir.ui.view" id="view_partner_prioritycat_form">
            <field name="name">Categorie prioritarie Form</field>
            <field name="model">res.partner.prioritycat</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Categorie prioritarie">
                       <field name="name" select="1"  colspan="4"/>                       
                       <field name="note" select="2"  colspan="4"/>
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_partner_prioritycat_tree">
            <field name="name">Categorie prioritarie Tree</field>
            <field name="model">res.partner.prioritycat</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Categorie prioritarie">
                   <field name="name" select="1"  />
                   <field name="note" select="2"  />
                </tree>
            </field>
        </record> 
                <!--Condizione professionale-->
	<record model="ir.ui.view" id="view_partner_profstatus_form">
            <field name="name">Condizione professionale Form</field>
            <field name="model">res.partner.profstatus</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Condizione professionale">
                       <field name="name" select="1" colspan="4"/>                       
                       <field name="note" select="2" colspan="4"/>
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_partner_profstatus_tree">
            <field name="name">Condizione professionale Tree</field>
            <field name="model">res.partner.profstatus</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Condizione professionale">
                   <field name="name" select="1"  />
                   <field name="note" select="2"  />
                </tree>
            </field>
        </record> 

                <!--anagrafica PIP-->
        <record model="ir.ui.view" id="view_contact_pip">
            <field name="name">Anagrafica PIP</field>
            <field name="model">res.partner.contact.pip</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Anagrafica PIP">
                       <field name="name" select="1" colspan="4" />                       
                       <field name="note" select="2" colspan="4" />
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_contact_pip_tree">
            <field name="name">Anagrafica PIP Tree</field>
            <field name="model">res.partner.contact.pip</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Anagrafica PIP">
                   <field name="name" select="1" />
                   <field name="note" select="2" />
                </tree>
            </field>
        </record> 
                <!-- anagrafica CCNL -->
        <record model="ir.ui.view" id="view_contact_ccnl">
            <field name="name">Anagrafica CCNL</field>
            <field name="model">res.partner.contact.ccnl</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Anagrafica CCNL">
                       <field name="name" select="1" colspan="4" />                       
                       <field name="note" select="2" colspan="4" />
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_contact_ccnl_tree">
            <field name="name">Anagrafica CCNL Tree</field>
            <field name="model">res.partner.contact.ccnl</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Anagrafica CCNL">
                   <field name="name" select="1"  />
                   <field name="note" select="2"  />
                </tree>
            </field>
        </record> 

                <!-- Tipo di formazione -->
        <record model="ir.ui.view" id="view_contact_formation">
            <field name="name">Tipo di formazione</field>
            <field name="model">res.partner.contact.formation</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Tipo di formazione">
                       <field name="name" select="1" colspan="4" />                       
                       <field name="note" select="2" colspan="4" />
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_contact_formation_tree">
            <field name="name">Tipo di formazione Tree</field>
            <field name="model">res.partner.contact.formation</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Tipo di formazione">
                   <field name="name" select="1"  />
                   <field name="note" select="2"  />
                </tree>
            </field>
        </record> 

                <!-- Tipo di profilo mansione -->
        <record model="ir.ui.view" id="view_contact_profile">
            <field name="name">Tipo di profilo mansione</field>
            <field name="model">res.partner.contact.profile</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                  <form string="Tipo di profilo">
                       <field name="name" select="1" colspan="4" />                       
                       <field name="note" select="2" colspan="4" />
                  </form>
            </field>
        </record>
        <record model="ir.ui.view" id="view_contact_profile_tree">
            <field name="name">Tipo di profil Tree</field>
            <field name="model">res.partner.contact.profile</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Tipo di profilo mansione">
                   <field name="name" select="1"  />
                   <field name="note" select="2"  />
                </tree>
            </field>
        </record> 

        <!-- ACTIONS: -->
        <record model="ir.actions.act_window" id="open_view_schoolsheet">
            <field name="name">Titolo di studio</field>
            <field name="res_model">res.partner.schoolsheet</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>
        <record model="ir.actions.act_window" id="open_view_profposition">
            <field name="name">Posizione professionale</field>
            <field name="res_model">res.partner.profposition</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record> 
        <record model="ir.actions.act_window" id="open_view_contract">
            <field name="name">Descrizione contratto</field>
            <field name="res_model">res.partner.contract</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>    
        <record model="ir.actions.act_window" id="open_view_prioritycat">
            <field name="name">Categorie prioritarie</field>
            <field name="res_model">res.partner.prioritycat</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>    
        <record model="ir.actions.act_window" id="open_view_profstatus">
            <field name="name">Condizione professionale</field>
            <field name="res_model">res.partner.profstatus</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>
        <record model="ir.actions.act_window" id="open_view_pip">
            <field name="name">Anagrafica PIP</field>
            <field name="res_model">res.partner.contact.pip</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>
        <record model="ir.actions.act_window" id="open_view_ccnl">
            <field name="name">Anagrafica CCNL</field>
            <field name="res_model">res.partner.contact.ccnl</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>
        <record model="ir.actions.act_window" id="open_view_formation">
            <field name="name">Tipo di formazione</field>
            <field name="res_model">res.partner.contact.formation</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>
        <record model="ir.actions.act_window" id="open_view_profile">
            <field name="name">Tipo di profilo</field>
            <field name="res_model">res.partner.contact.profile</field>
            <field name="view_type">form</field>
            <field name="view_model">form,tree</field>
        </record>

        <!-- AZIONI PARTE DX DELLA VIDEATA: -->
        <act_window id="action_contact_list_fiscalcode"
                    name="Contatti con stesso CF"
                    src_model="res.partner.contact"
                    res_model="res.partner.contact"
                    domain="[('fiscal_id_code', '=', fiscal_id_code)]" 
        />

        <!--Primary list menu-->
        <menuitem name="Laser" 
                  id="res_menu_laser" 
                  parent="training.training_config_mi" 
                  icon="terp-partner" 
                  groups="base.group_partner_manager"
                  sequence="0"/>
                  <!-- ex: "training.training_config_mi"  training.training_config_mi-->
            <!-- Submenus -->
            <menuitem name="Contatti" 
                      id="res_partner_contact_submenu" 
                      parent="res_menu_laser"
                      icon="terp-partner" 
                      groups="base.group_partner_manager"
                      sequence="2"/>
                <!-- Submenus-->   
                <menuitem name="Titoli di studio" 
                          id="res_partner_schoolsheet_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_schoolsheet"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>
                <menuitem name="Posizione professionale" 
                          id="res_partner_profposition_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_profposition"     
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>
                <menuitem name="Descrizione contratto" 
                          id="res_partner_contract_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_contract"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>
                <menuitem name="Categorie prioritarie" 
                          id="res_partner_prioritycat_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_prioritycat"
                          icon="terp-partner" 
                          groups="base.group_partner_manager" 
                          sequence="10"/>     
	            <menuitem name="Condizione professionale" 
                          id="res_partner_profstatus_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_profstatus"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>      
	            <menuitem name="Stato PIP" 
                          id="res_partner_contact_pip_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_pip"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>      
	            <menuitem name="Stato CCNL" 
                          id="res_partner_contact_ccnl_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_ccnl"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>      
	            <menuitem name="Tipo di formazione" 
                          id="res_partner_contact_formation_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_formation"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>
	            <menuitem name="Tipo di profilo / mansione" 
                          id="res_partner_contact_profile_menu" 
                          parent="res_partner_contact_submenu"
                          action="open_view_profile"
                          icon="terp-partner" 
                          groups="base.group_partner_manager"
                          sequence="10"/>            
    </data>
</openerp>
